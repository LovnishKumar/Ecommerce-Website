{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\Desktop\\\\ecommerce latest\\\\src\\\\pages\\\\AllProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AllProducts = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [userCart, setUserCart] = useState([]);\n  const user = JSON.parse(localStorage.getItem('user'));\n  const useremail = user ? user.email : '';\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch('http://localhost:5000/getproducts').then(response => response.json()).then(data => {\n      if (data.products) {\n        setProducts(data.products);\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  const addToCart = async product => {\n    try {\n      const response = await fetch(`http://localhost:5000/addtocart/${useremail}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          product\n        })\n      });\n      if (response.ok) {\n        toast('Product added to cart');\n      } else {\n        const data = await response.json();\n        toast(data.error || 'Failed to add product to cart');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      toast('Please login first');\n    }\n  };\n  const removeProduct = productName => {\n    fetch(`http://localhost:5000/removeproduct/${productName}`, {\n      method: 'DELETE'\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        const updatedProducts = products.filter(product => product.productName !== productName);\n        setProducts(updatedProducts);\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n  const viewDetails = productId => {\n    // Add logic to navigate to the product details page with productId\n    // You can use React Router or any other navigation method here\n    navigate(`/products/${productId}`);\n    console.log(`View details for product with ID: ${productId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid text-center pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"All Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4 col-md-6 col-sm-12 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"card-img-top\",\n            src: `http://localhost:5000${product.productImage}`,\n            alt: \"Product\",\n            style: {\n              height: '20rem',\n              objectFit: 'cover'\n            },\n            onClick: () => viewDetails(product._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: product.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: product.productDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"Price: $\", product.productPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-dark add-to-cart\",\n                onClick: () => addToCart(product),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-cart-shopping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 41\n                }, this), \" Add to cart\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 37\n              }, this), user && user.firstName === '1' && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger remove-btn\",\n                onClick: () => removeProduct(product.productName),\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(AllProducts, \"wTHVfZVY5YDLgm7r1M0Yt4WO/Zg=\", false, function () {\n  return [useNavigate];\n});\n_c = AllProducts;\nexport default AllProducts;\nvar _c;\n$RefreshReg$(_c, \"AllProducts\");","map":{"version":3,"names":["React","useState","useEffect","ToastContainer","toast","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AllProducts","_s","products","setProducts","userCart","setUserCart","user","JSON","parse","localStorage","getItem","useremail","email","navigate","fetch","then","response","json","data","catch","error","console","addToCart","product","method","headers","body","stringify","ok","removeProduct","productName","success","updatedProducts","filter","viewDetails","productId","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","index","src","productImage","alt","style","height","objectFit","onClick","_id","productDescription","productPrice","firstName","_c","$RefreshReg$"],"sources":["D:/OneDrive/Desktop/ecommerce latest/src/pages/AllProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate } from 'react-router-dom'; \r\n\r\nconst AllProducts = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [userCart, setUserCart] = useState([]);\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    const useremail = user ? user.email : '';\r\n    const navigate = useNavigate(); \r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/getproducts')\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                if (data.products) {\r\n                    setProducts(data.products);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }, []);\r\n\r\n    const addToCart = async (product) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/addtocart/${useremail}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ product }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast('Product added to cart');\r\n            } else {\r\n                const data = await response.json();\r\n                toast(data.error || 'Failed to add product to cart');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            toast('Please login first');\r\n        }\r\n    };\r\n\r\n    const removeProduct = (productName) => {\r\n        fetch(`http://localhost:5000/removeproduct/${productName}`, {\r\n            method: 'DELETE',\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    const updatedProducts = products.filter(\r\n                        (product) => product.productName !== productName\r\n                    );\r\n                    setProducts(updatedProducts);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    };\r\n\r\n    const viewDetails = (productId) => {\r\n        // Add logic to navigate to the product details page with productId\r\n        // You can use React Router or any other navigation method here\r\n        navigate(`/products/${productId}`);\r\n        console.log(`View details for product with ID: ${productId}`);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container-fluid text-center pt-4\">\r\n                <h1>All Products</h1>\r\n            </div>\r\n            <div className=\"row justify-content-center\">\r\n                {products.map((product, index) => (\r\n                    <div className=\"col-lg-4 col-md-6 col-sm-12 mb-4\" key={index}>\r\n                        <div className=\"card\">\r\n                            <img\r\n                                className=\"card-img-top\"\r\n                                src={`http://localhost:5000${product.productImage}`}\r\n                                alt=\"Product\"\r\n                                style={{ height: '20rem', objectFit: 'cover' }}\r\n                                onClick={() => viewDetails(product._id)}\r\n                            />\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">{product.productName}</h5>\r\n                                <p className=\"card-text\">{product.productDescription}</p>\r\n                                <p className=\"card-text\">Price: ${product.productPrice}</p>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <button\r\n                                        className=\"btn btn-dark add-to-cart\"\r\n                                        onClick={() => addToCart(product)}\r\n                                    >\r\n                                        <i className=\"fa-solid fa-cart-shopping\"></i> Add to cart\r\n                                    </button>\r\n                                   \r\n                                    {user && user.firstName === '1' && (\r\n                                        <button\r\n                                            className=\"btn btn-danger remove-btn\"\r\n                                            onClick={() => removeProduct(product.productName)}\r\n                                        >\r\n                                            X\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <ToastContainer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AllProducts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}