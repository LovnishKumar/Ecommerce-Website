{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\Desktop\\\\ecommerce latest\\\\src\\\\components\\\\Slider.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductSlider = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const user = JSON.parse(localStorage.getItem('user'));\n  const useremail = user ? user.email : '';\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch('http://localhost:5000/getfeatured').then(response => response.json()).then(data => {\n      setProducts(data.products);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  const responsive = {\n    desktop: {\n      breakpoint: {\n        max: 3000,\n        min: 1024\n      },\n      items: 4\n    },\n    tablet: {\n      breakpoint: {\n        max: 1024,\n        min: 464\n      },\n      items: 2\n    },\n    mobile: {\n      breakpoint: {\n        max: 464,\n        min: 0\n      },\n      items: 1\n    }\n  };\n  const addToCart = async product => {\n    try {\n      const response = await fetch(`http://localhost:5000/addtocart/${useremail}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          product\n        })\n      });\n      if (response.ok) {\n        toast('Product added to cart');\n      } else {\n        const data = await response.json();\n        toast(data.error || 'Failed to add product to cart');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      toast('Please login first');\n    }\n  };\n  const viewDetails = productId => {\n    navigate(`/products/${productId}`);\n    console.log(`View details for product with ID: ${productId}`);\n  };\n  const removeProduct = productName => {\n    // Send a request to the backend to remove the product by its name\n    fetch(`http://localhost:5000/removefproduct/${productName}`, {\n      method: 'DELETE'\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        // If the product was successfully removed, update the state\n        setProducts(prevProducts => prevProducts.filter(product => product.productName !== productName));\n      } else {\n        // Handle errors if needed\n        console.error(data.message);\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n  const renderProductSlides = () => {\n    return products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item fc\",\n      children: [user && user.firstName === '1' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        type: \"button\",\n        onClick: () => removeProduct(product.productName),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card d-block\",\n        style: {\n          width: '18rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"pi3 card-img-top\",\n          style: {\n            height: '20rem',\n            objectFit: 'cover'\n          },\n          onClick: () => viewDetails(product._id),\n          src: `http://localhost:5000${product.productImage}`,\n          alt: product.productName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: product.productDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: product.productPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark add-to-cart navbar-text apcb\",\n          type: \"button\",\n          onClick: () => addToCart(product),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-cart-shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), \" Add to cart\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"od\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fpheading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Featured Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n      responsive: responsive,\n      autoPlay: true,\n      autoPlaySpeed: 2000,\n      infinite: true,\n      children: renderProductSlides()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductSlider, \"IM33jVfoypN7Irf5pwXOwm+Oe18=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductSlider;\nexport default ProductSlider;\nvar _c;\n$RefreshReg$(_c, \"ProductSlider\");","map":{"version":3,"names":["React","useState","useEffect","Carousel","ToastContainer","toast","useNavigate","jsxDEV","_jsxDEV","ProductSlider","_s","products","setProducts","user","JSON","parse","localStorage","getItem","useremail","email","navigate","fetch","then","response","json","data","catch","error","console","responsive","desktop","breakpoint","max","min","items","tablet","mobile","addToCart","product","method","headers","body","stringify","ok","viewDetails","productId","log","removeProduct","productName","success","prevProducts","filter","message","renderProductSlides","map","className","children","firstName","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","width","height","objectFit","_id","src","productImage","alt","productDescription","productPrice","autoPlay","autoPlaySpeed","infinite","_c","$RefreshReg$"],"sources":["D:/OneDrive/Desktop/ecommerce latest/src/components/Slider.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ProductSlider = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n  const useremail = user ? user.email : '';\r\n  const navigate = useNavigate(); \r\n\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/getfeatured')\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setProducts(data.products);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, []);\r\n\r\n  const responsive = {\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 4,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n\r\n  const addToCart = async (product) => {\r\n        \r\n\r\n    try {\r\n        const response = await fetch(`http://localhost:5000/addtocart/${useremail}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ product }),\r\n        });\r\n\r\n        if (response.ok) {\r\n            toast('Product added to cart');\r\n        } else {\r\n            const data = await response.json();\r\n            toast(data.error || 'Failed to add product to cart');\r\n        }\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        toast('Please login first');\r\n    }\r\n\r\n};\r\n\r\nconst viewDetails = (productId) => {\r\n        \r\n  navigate(`/products/${productId}`);\r\n  console.log(`View details for product with ID: ${productId}`);\r\n};\r\n\r\n\r\n\r\n  const removeProduct = (productName) => {\r\n    // Send a request to the backend to remove the product by its name\r\n    fetch(`http://localhost:5000/removefproduct/${productName}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          // If the product was successfully removed, update the state\r\n          setProducts((prevProducts) =>\r\n            prevProducts.filter((product) => product.productName !== productName)\r\n          );\r\n        } else {\r\n          // Handle errors if needed\r\n          console.error(data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  const renderProductSlides = () => {\r\n    return products.map((product) => (\r\n\r\n        \r\n      <div key={product._id} className=\"item fc\">\r\n          {user && user.firstName === '1' && (\r\n         <button\r\n            className=\"btn btn-danger\"\r\n            type=\"button\"\r\n            onClick={() => removeProduct(product.productName)}\r\n          >\r\n            X\r\n          </button>\r\n  )}\r\n        <div className=\"card d-block\" style={{ width: '18rem' }}>\r\n          <img className=\"pi3 card-img-top\"  style={{ height: '20rem',objectFit: 'cover' }} onClick={() => viewDetails(product._id)}   src={`http://localhost:5000${product.productImage}`} alt={product.productName} />\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{product.productName}</h5>\r\n            <p className=\"card-text\">{product.productDescription}</p>\r\n            <p className=\"card-text\">{product.productPrice}</p>\r\n          </div>\r\n          <button\r\n            className=\"btn btn-dark add-to-cart navbar-text apcb\"\r\n            type=\"button\"\r\n            onClick={() => addToCart(product)}\r\n          >\r\n            <i className=\"fas fa-cart-shopping\"></i> Add to cart\r\n          </button>\r\n         \r\n        </div>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"od\">\r\n      <div className=\"fpheading\">\r\n        <h1>Featured Products</h1>\r\n      </div>\r\n      <Carousel\r\n        responsive={responsive}\r\n        autoPlay={true}\r\n        autoPlaySpeed={2000}\r\n        infinite={true}\r\n      >\r\n        {renderProductSlides()}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductSlider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}